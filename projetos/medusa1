## üìù Documenta√ß√£o GitHub: Estudo de Caso - Teste de Invas√£o em Servi√ßo FTP utilizando for√ßa bruta (medusa)

Esta documenta√ß√£o detalha um estudo de caso pr√°tico de teste de invas√£o (Penetration Test) focado na identifica√ß√£o e explora√ß√£o de vulnerabilidades em um servi√ßo FTP, culminando em um ataque de for√ßa bruta bem-sucedido. O objetivo prim√°rio √© educacional, visando a compreens√£o das t√©cnicas de ataque para fortalecer as medidas de defesa.

-----

### üìö Ambiente do Estudo de Caso

| Componente | Detalhe | Fun√ß√£o |
| :--- | :--- | :--- |
| **Sistema Operacional Atacante** | Kali Linux | [cite\_start]Hospeda as ferramentas de varredura e for√ßa bruta[cite: 2]. |
| **M√°quina Alvo** | Metasploitable 2 | [cite\_start]M√°quina virtual notoriamente vulner√°vel, utilizada como alvo[cite: 2]. |
| **Servi√ßo Alvo** | FTP (vsftpd 2.3.4) | [cite\_start]O servi√ßo que foi varrido e alvo do ataque de for√ßa bruta[cite: 8]. |

-----

### 1\. üåê Reconhecimento e Varredura (Nmap)

[cite\_start]O reconhecimento √© o est√°gio inicial para identificar *hosts* ativos e os servi√ßos que est√£o em execu√ß√£o[cite: 4]. [cite\_start]O **Nmap** (Network Mapper) √© a ferramenta padr√£o utilizada para este prop√≥sito[cite: 5].

  * [cite\_start]**Objetivo:** Verificar se a porta **21 (FTP)** est√° aberta e coletar informa√ß√µes de vers√£o do servi√ßo[cite: 6].
  * **Comando Utilizado:**
    ```bash
    nmap -sV -p 21 192.168.56.101
    ```
  * [cite\_start]**Resultado da Varredura:** O *scan* confirmou que a porta 21 est√° aberta, rodando o servi√ßo `vsftpd 2.3.4`[cite: 8].

-----

### 2\. üìù Enumera√ß√£o e Coleta de Informa√ß√µes

[cite\_start]A enumera√ß√£o aprofunda a coleta de informa√ß√µes sobre o servi√ßo[cite: 14]. [cite\_start]Neste caso, buscamos a vers√£o do servidor FTP para identificar vulnerabilidades conhecidas (CVEs) e verificar se o acesso an√¥nimo √© permitido[cite: 15, 16].

  * [cite\_start]**Informa√ß√£o Encontrada:** O servidor est√° rodando **vsftpd 2.3.4**[cite: 16].
  * **Implica√ß√£o:** A vers√£o `vsftpd 2.3.4` √© conhecida por possuir *backdoors* e vulnerabilidades cr√≠ticas, tornando-se um alvo de alto valor.

-----

### 3\. üí£ Quebra de Senha de For√ßa Bruta (Medusa)

[cite\_start]A t√©cnica de for√ßa bruta √© empregada para tentar um grande n√∫mero de combina√ß√µes de credenciais at√© encontrar uma v√°lida[cite: 22]. [cite\_start]O **Medusa** √© uma ferramenta popular para testes de for√ßa bruta em diversos protocolos[cite: 23].

  * **Prepara√ß√£o das Wordlists:**
    [cite\_start]Foram criados dois arquivos (`user.txt` e `pass.txt`) contendo listas de usu√°rios e senhas comuns para o teste[cite: 24, 25].

      * [cite\_start]**Usu√°rios (`user.txt`):** `user`, `msfadmin`, `nadmin`, `nroot` [cite: 24]
      * [cite\_start]**Senhas (`pass.txt`):** `123456`, `npassword`, `nqwerty`, `nmsfadmin` [cite: 24]

  * **Execu√ß√£o do Ataque:**
    [cite\_start]O comando Medusa foi executado especificando o *host* (`-h`), a lista de usu√°rios (`-U`), a lista de senhas (`-P`), o protocolo (`-M ftp`), e o n√∫mero de *threads* (`-t 6`)[cite: 24].

    ```bash
    medusa -h 192.168.56.101 -U user.txt -P pass.txt -M ftp -t 6
    ```

  * **Resultado do Ataque:**
    O ataque foi bem-sucedido, e as credenciais v√°lidas foram encontradas:

    > [cite\_start]**User: msfadmin Password: msfadmin [SUCCESS]** [cite: 24]

  * **Valida√ß√£o da Conex√£o:**
    [cite\_start]A conex√£o foi validada usando o cliente FTP, provando o acesso n√£o autorizado ao sistema[cite: 33].

    ```bash
    $ ftp 192.168.56.101
    Connected to 192.168.56.101.
    220 (vsFTPd 2.3.4)
    Name (192.168.56.101:kaht): msfadmin
    Password:
    230 Login successful.
    Remote system type is UNIX.
    Using binary mode to transfer files.
    ftp>
    ```

-----

### üõ°Ô∏è Medidas de Mitiga√ß√£o e Defesa

[cite\_start]Abaixo est√£o as estrat√©gias essenciais para proteger um servi√ßo FTP contra os ataques demonstrados[cite: 1].

| Risco de Seguran√ßa | Estrat√©gia de Defesa Recomendada |
| :--- | :--- |
| **Descoberta de Porta (Varredura)** | [cite\_start]Implementar **Firewall** com lista de acesso restrito (ACL)[cite: 10, 35]. [cite\_start]Usar um **IDS/IPS** para monitorar e alertar sobre varreduras excessivas[cite: 12]. |
| **Enumera√ß√£o de Vers√£o** | [cite\_start]**Atualizar o Software FTP** (ProFTPD, vsftpd, etc.) regularmente para corrigir vulnerabilidades conhecidas[cite: 20]. [cite\_start]Desativar o acesso an√¥nimo, se desnecess√°rio[cite: 18]. |
| **For√ßa Bruta de Credenciais** | [cite\_start]Configurar **Pol√≠ticas de Senha Fortes** e trocas regulares[cite: 28]. [cite\_start]Implementar **Bloqueio de Contas** (*Rate Limiting/Lockout*) ap√≥s um pequeno n√∫mero de tentativas falhas[cite: 29]. [cite\_start]Utilizar **SFTP** (FTP sobre SSH) ou **FTPS** (FTP sobre SSL/TLS) para criptografar o canal de comunica√ß√£o[cite: 32]. |

-----

### üöÄ Pr√≥ximos Passos (Recomenda√ß√£o)

Para testar a seguran√ßa de forma mais abrangente, o pr√≥ximo passo seria explorar a vulnerabilidade conhecida do `vsftpd 2.3.4` (poss√≠vel *backdoor*) e verificar o impacto ap√≥s a aplica√ß√£o das medidas de mitiga√ß√£o.

**Voc√™ gostaria de focar na documenta√ß√£o sobre como implementar uma das defesas mencionadas, como o bloqueio de IP no Firewall?**
